---
import Layout from '../layouts/Layout.astro'
import contributors from '../data/contributors.json'
// Render bios as paragraphs (avoid importing non-existent Markdown component)

const title = 'Contributors'
---

<Layout title={title}>
<header style="margin-bottom:1.25rem">
    <h1>{title}</h1>
    <p>Meet the people who contribute to this newsletter â€” writers, editors, and researchers.</p>
</header>

	<section class="contributors-grid">
		{contributors.map((c) => (
			<article class="card">
				<div class="meta">
					<img src={c.avatar} alt={`${c.name} avatar`} loading="lazy" />
					<div>
						<h3>{c.name}</h3>
						<p class="role">{c.role}</p>
					</div>
				</div>

				<div class="bio">
					{c.bio.split('\n\n').map((para) => (
						<p>{para}</p>
					))}
				</div>

				<p class="links">
					{c.twitter && (
						<a href={`https://twitter.com/${c.twitter}`} target="_blank" rel="noopener">Twitter</a>
					)}
					{c.github && (
						<a href={`https://github.com/${c.github}`} target="_blank" rel="noopener">GitHub</a>
					)}
					{c.website && (
						<a href={c.website} target="_blank" rel="noopener">Website</a>
					)}
				</p>
			</article>
		))}
	</section>

	<style>
		.contributors-grid{
			display:grid;
			grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
			gap:1rem;
		}
		.card{
			padding:1rem;
			border:1px solid var(--astro-border, #e6e6e6);
			border-radius:8px;
			background:var(--astro-card-bg, transparent);
		}
		.meta{display:flex;gap:0.75rem;align-items:center}
		.meta img{width:64px;height:64px;border-radius:8px;object-fit:cover}
		.role{margin:0;color:var(--muted,#666);font-size:0.95rem}
		.bio{margin-top:0.6rem;font-size:0.95rem;line-height:1.4}
		.links{margin-top:0.75rem;display:flex;gap:0.5rem}
		.links a{font-size:0.9rem;color:var(--link,#0366d6)}
	</style>
</Layout>
